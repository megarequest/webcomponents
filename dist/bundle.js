(()=>{"use strict";var t=Symbol.for("preact-signals");function e(){if(r>1)r--;else{for(var t,e=!1;void 0!==n;){var i=n;for(n=void 0,o++;void 0!==i;){var s=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&c(i))try{i.c()}catch(i){e||(t=i,e=!0)}i=s}}if(o=0,r--,e)throw t}}var i=void 0;var n=void 0,r=0,o=0,s=0;function l(t){if(void 0!==i){var e=t.n;if(void 0===e||e.t!==i)return e={i:0,S:t,p:i.s,n:void 0,t:i,e:void 0,x:void 0,r:e},void 0!==i.s&&(i.s.n=e),i.s=e,t.n=e,32&i.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=i.s,e.n=void 0,i.s.n=e,i.s=e),e}}function h(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function c(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function a(t){for(var e=t.s;void 0!==e;e=e.n){var i=e.S.n;if(void 0!==i&&(e.r=i),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function f(t){for(var e=t.s,i=void 0;void 0!==e;){var n=e.p;-1===e.i?(e.S.U(e),void 0!==n&&(n.n=e.n),void 0!==e.n&&(e.n.p=n)):i=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=n}t.s=i}function u(t){h.call(this,void 0),this.x=t,this.s=void 0,this.g=s-1,this.f=4}function d(t){var n=t.u;if(t.u=void 0,"function"==typeof n){r++;var o=i;i=void 0;try{n()}catch(e){throw t.f&=-2,t.f|=8,v(t),e}finally{i=o,e()}}}function v(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,d(t)}function p(t){if(i!==this)throw new Error("Out-of-order effect");f(this),i=t,this.f&=-2,8&this.f&&v(this),e()}function y(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function g(t){var e=new y(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}h.prototype.brand=t,h.prototype.h=function(){return!0},h.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},h.prototype.U=function(t){if(void 0!==this.t){var e=t.e,i=t.x;void 0!==e&&(e.x=i,t.e=void 0),void 0!==i&&(i.e=e,t.x=void 0),t===this.t&&(this.t=i)}},h.prototype.subscribe=function(t){var e=this;return g((function(){var n=e.value,r=i;i=void 0;try{t(n)}finally{i=r}}))},h.prototype.valueOf=function(){return this.value},h.prototype.toString=function(){return this.value+""},h.prototype.toJSON=function(){return this.value},h.prototype.peek=function(){var t=i;i=void 0;try{return this.value}finally{i=t}},Object.defineProperty(h.prototype,"value",{get:function(){var t=l(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(o>100)throw new Error("Cycle detected");this.v=t,this.i++,s++,r++;try{for(var i=this.t;void 0!==i;i=i.x)i.t.N()}finally{e()}}}}),(u.prototype=new h).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===s)return!0;if(this.g=s,this.f|=1,this.i>0&&!c(this))return this.f&=-2,!0;var t=i;try{a(this),i=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return i=t,f(this),this.f&=-2,!0},u.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}h.prototype.S.call(this,t)},u.prototype.U=function(t){if(void 0!==this.t&&(h.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},u.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(u.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=l(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),y.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},y.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,d(this),a(this),r++;var t=i;return i=this,p.bind(this,t)},y.prototype.N=function(){2&this.f||(this.f|=2,this.o=n,n=this)},y.prototype.d=function(){this.f|=8,1&this.f||v(this)};const{isArray:b}=Array,{getPrototypeOf:w,getOwnPropertyDescriptor:m}=Object,x=[],C=()=>document.createRange(),S=(t,e,i)=>(t.set(e,i),i),N=(t,e)=>e.reduceRight($,t),$=(t,e)=>t.childNodes[e],{setPrototypeOf:k}=Object;let O;const W=(t,e,i)=>(O||(O=C()),i?O.setStartAfter(t):O.setStartBefore(t),O.setEndAfter(e),O.deleteContents(),t),M=({firstChild:t,lastChild:e},i)=>W(t,e,i);let A=!1;const E=(t,e)=>A&&11===t.nodeType?1/e<0?e?M(t,!0):t.lastChild:e?t.valueOf():t.firstChild:t,j=t=>document.createComment(t);class T extends((t=>{function e(t){return k(t,new.target.prototype)}return e.prototype=t.prototype,e})(DocumentFragment)){#t=j("<>");#e=j("</>");#i=x;constructor(t){super(t),this.replaceChildren(this.#t,...t.childNodes,this.#e),A=!0}get firstChild(){return this.#t}get lastChild(){return this.#e}get parentNode(){return this.#t.parentNode}remove(){M(this,!1)}replaceWith(t){M(this,!0).replaceWith(t)}valueOf(){const{parentNode:t}=this;if(t===this)this.#i===x&&(this.#i=[...this.childNodes]);else{if(t){let{firstChild:t,lastChild:e}=this;for(this.#i=[t];t!==e;)this.#i.push(t=t.nextSibling)}this.replaceChildren(...this.#i)}return this}}const P=(t,e,i)=>t.setAttribute(e,i),U=(t,e)=>t.removeAttribute(e);let B;const D=(t,e,i)=>{i=i.slice(1),B||(B=new WeakMap);const n=B.get(t)||S(B,t,{});let r=n[i];return r&&r[0]&&t.removeEventListener(i,...r),r=b(e)?e:[e,!1],n[i]=r,r[0]&&t.addEventListener(i,...r),e},R=(new WeakMap,(t,e)=>{const{t:i,n}=t;let r=!1;switch(typeof e){case"object":if(null!==e){(n||i).replaceWith(t.n=e.valueOf());break}case"undefined":r=!0;default:i.data=r?"":e,n&&(t.n=null,n.replaceWith(i))}return e}),z=(t,e,i)=>t[i]=e,F=(t,e,i)=>z(t,e,i.slice(1)),L=(t,e,i)=>null==e?(U(t,i),e):z(t,e,i),J=(t,e)=>("function"==typeof e?e(t):e.current=t,e),Z=(t,e,i)=>(null==e?U(t,i):P(t,i,e),e),G=(t,e,i)=>(t.toggleAttribute(i.slice(1),e),e),H=(t,e,i)=>{const{length:n}=e;if(t.data=`[${n}]`,n)return((t,e,i,n,r)=>{const o=i.length;let s=e.length,l=o,h=0,c=0,a=null;for(;h<s||c<l;)if(s===h){const e=l<o?c?n(i[c-1],-0).nextSibling:n(i[l],0):r;for(;c<l;)t.insertBefore(n(i[c++],1),e)}else if(l===c)for(;h<s;)a&&a.has(e[h])||t.removeChild(n(e[h],-1)),h++;else if(e[h]===i[c])h++,c++;else if(e[s-1]===i[l-1])s--,l--;else if(e[h]===i[l-1]&&i[c]===e[s-1]){const r=n(e[--s],-0).nextSibling;t.insertBefore(n(i[c++],1),n(e[h++],-0).nextSibling),t.insertBefore(n(i[--l],1),r),e[s]=i[l]}else{if(!a){a=new Map;let t=c;for(;t<l;)a.set(i[t],t++)}if(a.has(e[h])){const r=a.get(e[h]);if(c<r&&r<l){let o=h,f=1;for(;++o<s&&o<l&&a.get(e[o])===r+f;)f++;if(f>r-c){const o=n(e[h],0);for(;c<r;)t.insertBefore(n(i[c++],1),o)}else t.replaceChild(n(i[c++],1),n(e[h++],-1))}else h++}else t.removeChild(n(e[h++],-1))}return i})(t.parentNode,i,e,E,t);switch(i.length){case 1:i[0].remove();case 0:break;default:W(E(i[0],0),E(i.at(-1),-0),!1)}return x},V=new Map([["aria",(t,e)=>{for(const i in e){const n=e[i],r="role"===i?i:`aria-${i}`;null==n?U(t,r):P(t,r,n)}return e}],["class",(t,e)=>L(t,e,null==e?"class":"className")],["data",(t,e)=>{const{dataset:i}=t;for(const t in e)null==e[t]?delete i[t]:i[t]=e[t];return e}],["ref",J],["style",(t,e)=>null==e?L(t,e,"style"):z(t.style,e,"cssText")]]),_=(t,e,i)=>{switch(e[0]){case".":return F;case"?":return G;case"@":return D;default:return i||"ownerSVGElement"in t?"ref"===e?J:Z:V.get(e)||(e in t?e.startsWith("on")?z:((t,e)=>{let i;do{i=m(t,e)}while(!i&&(t=w(t)));return i})(t,e)?.set?L:Z:Z)}},q=(t,e)=>(t.textContent=null==e?"":e,e),I=(t,e,i)=>({a:t,b:e,c:i}),K=(t,e,i,n)=>({v:x,u:t,t:e,n:i,c:n}),Q=()=>I(null,null,x),X=t=>(e,i)=>{const{a:n,b:r,c:o}=t(e,i),s=document.importNode(n,!0);let l=x;if(r!==x){l=[];for(let t,e,i=0;i<r.length;i++){const{a:n,b:o,c:h}=r[i],c=n===e?t:t=N(s,e=n);l[i]=K(o,c,h,o===H?[]:o===R?Q():null)}}return((t,e)=>({b:t,c:e}))(o?s.firstChild:new T(s),l)},Y=/^(?:plaintext|script|style|textarea|title|xmp)$/i,tt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,et=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,it=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,nt=/[\x01\x02]/g;let rt,ot,st=document.createElement("template");const lt=(t,e)=>{if(e)return rt||(rt=document.createElementNS("http://www.w3.org/2000/svg","svg"),ot=C(),ot.selectNodeContents(rt)),ot.createContextualFragment(t);st.innerHTML=t;const{content:i}=st;return st=st.cloneNode(!1),i},ht=t=>{const e=[];let i;for(;i=t.parentNode;)e.push(e.indexOf.call(i.childNodes,t)),t=i;return e},ct=()=>document.createTextNode(""),at=(t,e,i)=>{const n=lt(((t,e,i)=>{let n=0;return t.join("").trim().replace(et,((t,e,n,r)=>`<${e}${n.replace(it,"=$2$1").trimEnd()}${r?i||tt.test(e)?" /":`></${e}`:""}>`)).replace(nt,(t=>""===t?`\x3c!--${e+n++}--\x3e`:e+n++))})(t,ut,i),i),{length:r}=t;let o=x;if(r>1){const t=[],s=document.createTreeWalker(n,129);let l=0,h=`${ut}${l++}`;for(o=[];l<r;){const n=s.nextNode();if(8===n.nodeType){if(n.data===h){const i=b(e[l-1])?H:R;i===R&&t.push(n),o.push(I(ht(n),i,null)),h=`${ut}${l++}`}}else{let t;for(;n.hasAttribute(h);){t||(t=ht(n));const e=n.getAttribute(h);o.push(I(t,_(n,e,i),e)),U(n,h),h=`${ut}${l++}`}!i&&Y.test(n.localName)&&n.textContent.trim()===`\x3c!--${h}--\x3e`&&(o.push(I(t||ht(n),q,null)),h=`${ut}${l++}`)}}for(l=0;l<t.length;l++)t[l].replaceWith(ct())}const{childNodes:s}=n;let{length:l}=s;return l<1?(l=1,n.appendChild(ct())):1===l&&1!==r&&1!==s[0].nodeType&&(l=0),S(ft,t,I(n,o,1===l))},ft=new WeakMap,ut="isÂµ",dt=t=>(e,i)=>ft.get(e)||at(e,i,t),vt=X(dt(!1)),pt=X(dt(!0)),yt=(t,{s:e,t:i,v:n})=>{if(t.a!==i){const{b:r,c:o}=(e?pt:vt)(i,n);t.a=i,t.b=r,t.c=o}for(let{c:e}=t,i=0;i<e.length;i++){const t=n[i],r=e[i];switch(r.u){case H:r.v=H(r.t,gt(r.c,t),r.v);break;case R:const e=t instanceof bt?yt(r.c||(r.c=Q()),t):(r.c=null,t);e!==r.v&&(r.v=R(r,e));break;default:t!==r.v&&(r.v=r.u(r.t,t,r.n,r.v))}}return t.b},gt=(t,e)=>{let i=0,{length:n}=e;for(n<t.length&&t.splice(n);i<n;i++){const n=e[i];n instanceof bt?e[i]=yt(t[i]||(t[i]=Q()),n):t[i]=null}return e};class bt{constructor(t,e,i){this.s=t,this.t=e,this.v=i}toDOM(t=Q()){return yt(t,this)}}new WeakMap;const wt=t=>(e,...i)=>new bt(t,e,i),mt=wt(!1),xt=(wt(!0),new WeakMap),Ct=(t,e,i)=>{const n=xt.get(t)||S(xt,t,Q()),{b:r}=n,o=i&&"function"==typeof e?e():e,s=o instanceof bt?o.toDOM(n):o;return r!==s&&t.replaceChildren((n.b=s).valueOf()),t},St=new WeakMap,Nt=t=>(e,i)=>{const n=St.get(e)||S(St,e,new Map);return n.get(i)||S(n,i,function(e,...i){return new bt(t,e,i).toDOM(this)}.bind(Q()))},$t=(Nt(!1),Nt(!0),new FinalizationRegistry((([t,e,i])=>{t(e)}))),kt=Object.create(null),Ot=new WeakMap,Wt=t=>t();let Mt=!0;const At=t=>{const e=Ot.get(t);var i;e&&(Mt&&Ot.delete(t),i=e,$t.unregister(i),e())},Et=(jt=g,(t,e)=>{if(Mt="function"!=typeof e,At(t),Mt)return Ct(t,e,!1);Mt=!0;const i=new WeakRef(t),n=jt((()=>{Ct(i.deref(),e(),!1)}));return Ot.set(t,n),((t,e,{debug:i,handler:n,return:r,token:o=t}=kt)=>{const s=r||new Proxy(t,n||kt),l=[s,[e,t,!!i]];return!1!==o&&l.push(o),$t.register(...l),s})(n,Wt,{return:t})});var jt;const Tt=function(t){return new h(t)}({name:"John",age:30}),Pt=()=>{Tt.value={...Tt.value,age:Tt.value.age+1}};Et(document.body,(()=>mt`
  <button onclick=${Pt}>
    Clicks: ${Tt.value.age}
  </button>
`))})();